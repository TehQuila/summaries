\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm]
   \begin{axis}[
      x=1.5cm, y=1.5cm,
      axis lines=middle,
      ymajorgrids=true,
      xmajorgrids=true,
      xtick={0,1.5,3},
      ytick={0, 1.5, 3},
      xmin=-0.9,
      xmax=3.9,
      ymin=-0.9,
      ymax=3.9
   ]
      \fill[line width=2pt,color=green,fill=green,fill opacity=0.1] (0,1) -- (0,0) -- (3,0) -- (3,2.010007503399555) -- cycle;
      \draw[line width=2pt,color=grey,smooth,samples=100,domain=-3.128418914206146:9.379982545998212] plot(\x,{(\x)+cos(((\x))*180/pi)});
      \draw [line width=2pt,color=green] (0,1)-- (3,2.010007503399555);
      \draw [line width=1pt,dashed,color=black] (3,3)-- (0,3);
      \draw [line width=1pt,dashed,color=black] (0,1.5)-- (3,1.5);

      \draw [line width=1.2pt,dashed,color=blue] (3,2.010007503399555)-- (3,0);
      \draw [line width=1.2pt,dashed,color=blue] (0,1)-- (0,3);
      \draw [fill=blue] (3,2.010007503399555) circle (2.5pt);
      \draw[color=blue] (3.4, 2) node {\(f(b)\)};
      \draw [fill=blue] (3,0) circle (2.5pt);
      \draw[color=blue] (3, -0.3) node {\(b\)};

      \draw [line width=1.2pt,dashed,color=red] (3,3)-- (3,2.010007503399555);
      \draw [line width=1.2pt,dashed,color=red] (0,1)-- (0,0);
      \draw [fill=red] (0,1) circle (2.5pt);
      \draw[color=red] (-0.4, 1) node {\(f(a)\)};
      \draw [fill=red] (0,0) circle (2.5pt);
      \draw[color=red] (0, -0.3) node {\(a\)};

      \draw[color=grey] (-0.4, 0.3) node {\(f\)};
      \draw[color=green] (0.5, 1) node {\(p(f)\)};
   \end{axis}
\end{tikzpicture}
